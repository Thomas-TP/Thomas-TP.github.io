class HeroAnimation{constructor(){this.canvas=null;this.ctx=null;this.particles=[];this.mouseX=0;this.mouseY=0;this.animationId=null;this.constellationMode=false;this.constellationTimer=0;this.constellationDuration=0;this.targetPositions=[];this.codeSnippets=['function()','const','let','if()','class','return','{...}','=>','[]','async','await','try','catch','import','export','&&','||','===','new','this','Python','Java','C++','JS','ML','AI','IoT'];this.constellations={bigDipper:[[0.2,0.3],[0.3,0.3],[0.4,0.3],[0.5,0.35],[0.55,0.5],[0.5,0.65],[0.4,0.6]],cassiopeia:[[0.2,0.5],[0.3,0.3],[0.4,0.5],[0.5,0.25],[0.6,0.45]],orion:[[0.35,0.4],[0.4,0.4],[0.45,0.4],[0.3,0.25],[0.5,0.25],[0.32,0.6],[0.48,0.6],[0.4,0.5]],leo:[[0.2,0.4],[0.3,0.3],[0.4,0.25],[0.5,0.3],[0.55,0.45],[0.5,0.6],[0.35,0.55]]};this.init();}init(){this.canvas=document.createElement('canvas');this.canvas.id='hero-canvas';this.canvas.style.position='absolute';this.canvas.style.top='0';this.canvas.style.left='0';this.canvas.style.width='100%';this.canvas.style.height='100%';this.canvas.style.pointerEvents='none';this.canvas.style.zIndex='1';const heroSection=document.getElementById('hero');if(!heroSection)return;heroSection.style.position='relative';heroSection.insertBefore(this.canvas,heroSection.firstChild);this.ctx=this.canvas.getContext('2d');requestAnimationFrame(()=>{this.resize();this.createParticles();});this.resizeObserver=new ResizeObserver(()=>this.resize());this.resizeObserver.observe(heroSection);heroSection.addEventListener('mousemove',(e)=>this.handleMouseMove(e));this.animate();setTimeout(()=>this.scheduleConstellation(),10000);}resize(){const heroSection=document.getElementById('hero');if(!heroSection)return;const rect=heroSection.getBoundingClientRect();this.canvas.width=rect.width;this.canvas.height=rect.height;this.canvasRect=this.canvas.getBoundingClientRect();if(this.particles.length===0){this.createParticles();}}createParticles(){const particleCount=window.innerWidth<768?30:50;this.particles=[];for(let i=0;i<particleCount;i++){this.particles.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,vx:(Math.random()-0.5)*0.5,vy:(Math.random()-0.5)*0.5,originalVx:(Math.random()-0.5)*0.5,originalVy:(Math.random()-0.5)*0.5,size:Math.random()*3+1,text:this.codeSnippets[Math.floor(Math.random()*this.codeSnippets.length)],opacity:Math.random()*0.5+0.3,speedMultiplier:Math.random()*0.5+0.5,targetX:null,targetY:null});}}scheduleConstellation(){const constellationNames=Object.keys(this.constellations);const randomConstellation=constellationNames[Math.floor(Math.random()*constellationNames.length)];const constellation=this.constellations[randomConstellation];this.targetPositions=[];const offsetX=(Math.random()-0.5)*this.canvas.width*0.3;const offsetY=(Math.random()-0.5)*this.canvas.height*0.3;const centerX=this.canvas.width/2+offsetX;const centerY=this.canvas.height/2+offsetY;const scale=Math.min(this.canvas.width,this.canvas.height)*0.6;constellation.forEach(([x,y])=>{this.targetPositions.push({x:centerX+(x-0.4)*scale,y:centerY+(y-0.35)*scale});});this.constellationMode=true;this.constellationTimer=0;this.constellationDuration=180;setTimeout(()=>this.scheduleConstellation(),15000+Math.random()*15000);}handleMouseMove(e){if(!this.canvasRect)return;this.mouseX=e.clientX-this.canvasRect.left;this.mouseY=e.clientY-this.canvasRect.top;}drawParticle(particle){this.ctx.beginPath();this.ctx.arc(particle.x,particle.y,particle.size,0,Math.PI*2);this.ctx.fillStyle=`rgba(255,255,255,${particle.opacity})`;this.ctx.fill();if(window.innerWidth>=768&&Math.random()>0.7){this.ctx.font='10px monospace';this.ctx.fillStyle=`rgba(96,165,250,${particle.opacity*0.6})`;this.ctx.fillText(particle.text,particle.x+5,particle.y+3);}}drawConnections(){for(let i=0;i<this.particles.length;i++){for(let j=i+1;j<this.particles.length;j++){const dx=this.particles[i].x-this.particles[j].x;const dy=this.particles[i].y-this.particles[j].y;const distance=Math.sqrt(dx*dx+dy*dy);if(distance<150){this.ctx.beginPath();this.ctx.strokeStyle=`rgba(96,165,250,${0.2*(1-distance/150)})`;this.ctx.lineWidth=1;this.ctx.moveTo(this.particles[i].x,this.particles[i].y);this.ctx.lineTo(this.particles[j].x,this.particles[j].y);this.ctx.stroke();}}}}updateParticles(){this.particles.forEach((particle,index)=>{if(this.constellationMode&&index<this.targetPositions.length){const target=this.targetPositions[index];const lerpFactor=0.05;particle.x+=(target.x-particle.x)*lerpFactor;particle.y+=(target.y-particle.y)*lerpFactor;particle.vx*=0.95;particle.vy*=0.95;}else{particle.x+=particle.vx*particle.speedMultiplier;particle.y+=particle.vy*particle.speedMultiplier;if(!this.constellationMode){particle.vx+=(particle.originalVx-particle.vx)*0.01;particle.vy+=(particle.originalVy-particle.vy)*0.01;}}if(!this.constellationMode){const dx=this.mouseX-particle.x;const dy=this.mouseY-particle.y;const distance=Math.sqrt(dx*dx+dy*dy);if(distance<100){const force=(100-distance)/100;particle.x-=(dx/distance)*force*2;particle.y-=(dy/distance)*force*2;}}if(particle.x<0||particle.x>this.canvas.width){particle.vx*=-1;if(particle.originalVx)particle.originalVx*=-1;particle.x=Math.max(0,Math.min(this.canvas.width,particle.x));}if(particle.y<0||particle.y>this.canvas.height){particle.vy*=-1;if(particle.originalVy)particle.originalVy*=-1;particle.y=Math.max(0,Math.min(this.canvas.height,particle.y));}});}animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);if(this.constellationMode){this.constellationTimer++;if(this.constellationTimer>=this.constellationDuration){this.constellationMode=false;this.constellationTimer=0;}}this.drawConnections();this.particles.forEach(particle=>{this.drawParticle(particle);});this.updateParticles();this.animationId=requestAnimationFrame(()=>this.animate());}destroy(){if(this.animationId){cancelAnimationFrame(this.animationId);}if(this.resizeObserver){this.resizeObserver.disconnect();}if(this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas);}}}document.addEventListener('DOMContentLoaded',()=>{window.addEventListener('load',()=>{setTimeout(()=>{new HeroAnimation();},100);});});